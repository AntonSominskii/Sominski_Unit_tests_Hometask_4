Задание 1. Ответьте письменно на вопросы:

1)  Почему использование тестовых заглушек может быть полезным при написании модульных тестов?

2) Какой тип тестовой заглушки следует использовать, если вам нужно проверить, что метод был вызван с определенными аргументами?

3) Какой тип тестовой заглушки следует использовать, если вам просто нужно вернуть определенное значение или исключение в ответ на вызов метода?

4) Какой тип тестовой заглушки вы бы использовали для имитации  взаимодействия с внешним API или базой данных?
Ответы:
1) Использование тестовых заглушек (mocks и stubs) может быть полезным при написании модульных тестов по нескольким причинам. Во-первых, они позволяют тестировать компонент в изоляции от зависимостей, что делает тесты более надежными и предсказуемыми. Во-вторых, они помогают сократить время выполнения тестов, поскольку не требуется обращение к реальным внешним ресурсам, таким как базы данных или веб-сервисы. В-третьих, с их помощью можно легко симулировать различные сценарии, включая ошибки и исключительные ситуации, что улучшает покрытие тестами и качество тестирования.

2) Если нужно проверить, что метод был вызван с определенными аргументами, следует использовать mock-объекты. Mock-объекты позволяют не только имитировать поведение зависимостей, но и проверять, как именно эти зависимости использовались, включая проверку вызванных методов и аргументов, с которыми эти методы были вызваны. Библиотеки, такие как Mockito в мире Java, предоставляют удобный интерфейс для создания mock-объектов и проверки взаимодействия с ними.

3) Если нужно вернуть определенное значение или исключение в ответ на вызов метода, следует использовать stub-объекты. Stub-объекты предназначены для имитации поведения зависимостей путем предоставления заранее определенных ответов на вызовы методов. Они не предоставляют возможности проверки взаимодействия с ними, как mock-объекты, но являются идеальным выбором, когда нужно просто контролировать возвращаемые значения или исключения для тестирования различных сценариев.

4) Для имитации взаимодействия с внешним API или базой данных обычно используются mock-объекты или специализированные фреймворки, предназначенные для тестирования взаимодействия с внешними системами. Mock-объекты позволяют тестировать код в изоляции от реальных внешних зависимостей, имитируя их поведение. Для более сложных сценариев, когда необходимо тщательно имитировать взаимодействие с внешними системами, могут использоваться инструменты, такие как WireMock, которые позволяют создавать тестовые двойники внешних API, предоставляя подробное управление поведением и ответами этих API. Эти инструменты особенно полезны для интеграционного тестирования, когда необходимо тестировать взаимодействие между компонентами системы и внешними сервисами.
